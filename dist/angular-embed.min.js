!function(){"use strict";angular.module("angular-embed.config",[]).value("angular-embed.config",{debug:!0}),angular.module("noEmbed",["ngResource"]),angular.module("angular-embed.services",["angular-embedly","noEmbed"]),angular.module("angular-embed-handlers",["angular-embedly"]),angular.module("angular-embed",["angular-embed.config","angular-embed.services"])}(),function(){"use strict";function e(e,r){return{name:"Facebook",patterns:["https?://(www\\.)facebook.com/.*"],embed:function(t,n){var a=r.defer();return e.embed(t,n).then(function(e){var r=e.data;"Facebook"===r.provider_name&&r.html&&void 0!==n&&(r.html=r.html.replace('class="fb-post"','class="fb-post" data-width="'+n+'"')),a.resolve(r)},function(e){a.reject(e.error_message||e.data.error_message)}),a.promise}}}angular.module("angular-embed-handlers").service("ngEmbedFacebookHandler",["embedlyService","$q",e])}(),function(){"use strict";function e(e,r){return{name:"Instagram",patterns:["https?://instagr(?:\\.am|am\\.com)/p/.+"],embed:function(t,n){var a=r.defer();return e.embed(t,n).then(function(e){delete e.data.description,a.resolve(e.data)},function(e){a.reject(e.error_message||e.data.error_message)}),a.promise}}}angular.module("angular-embed-handlers").service("ngEmbedInstagramHandler",["embedlyService","$q",e])}(),function(){"use strict";function e(e,r){return{name:"Twitter",patterns:["https?://(?:www|mobile\\.)?twitter\\.com/(?:#!/)?[^/]+/status(?:es)?/(\\d+)/?$","https?://t\\.co/[a-zA-Z0-9]+"],embed:function(t){var n=r.defer();return e.embed(t).then(function(e){var r=e.data;"Twitter"===r.provider_name&&(r.html=['<blockquote class="twitter-tweet">',"    <p>",r.description,"    </p>&mdash; ","    "+r.title+" (@"+r.author_name+")",'    <a href="'+t+'">'+t+"</a>","</blockquote>","<script>","    window.twttr = (function(d, s, id) {","        var js, fjs = d.getElementsByTagName(s)[0],t = window.twttr || {};","        if (d.getElementById(id)) return t; js = d.createElement(s);js.id = id;",'        js.src = "https://platform.twitter.com/widgets.js";',"        fjs.parentNode.insertBefore(js, fjs); t._e = [];",'        t.ready = function(f) {t._e.push(f);}; return t;}(document, "script", "twitter-wjs"));',"    window.twttr.ready(function(){window.twttr.widgets.load();});","</script>"].join("\n")),n.resolve(r)},function(e){n.reject(e.error_message||e.data.error_message)}),n.promise}}}angular.module("angular-embed-handlers").service("ngEmbedTwitterHandler",["embedlyService","$q",e])}(),function(){"use strict";function e(e,r){return{name:"Youtube",patterns:["https?://(?:[^\\.]+\\.)?youtube\\.com/watch/?\\?(?:.+&)?v=([^&]+)","https?://youtu\\.be/([a-zA-Z0-9_-]+)"],embed:function(t,n){var a=r.defer();return e.embed(t,n).then(function(e){a.resolve(e.data)},function(e){a.reject(e.error_message||e.data.error_message)}),a.promise}}}angular.module("angular-embed-handlers").service("ngEmbedYoutubeHandler",["embedlyService","$q",e])}(),function(){"use strict";function e(){function e(e,t,n){function a(e,r){return e.some(function(e){return e.patterns.some(function(e){var t=new RegExp(e);return t.test(r)})})}var o=t.providers();return{registerHandler:r.registerHandler,get:function(s,u){function i(){e.embed(s,u).then(function(e){c.resolve(e.data)},function(e){c.reject(e.error_message||e.data.error_message)})}function d(){t.embed(s).then(function(e){void 0!==e.error?c.reject(e.error):c.resolve(e)})}var c=n.defer();return r.specialHandlers.some(function(e){return e.patterns.some(function(r){var t=new RegExp(r);return t.test(s)?(e.embed(s,u).then(function(e){c.resolve(e)}),!0):!1})})||o.then(function(e){a(e,s)?d():i()},function(){i()}),c.promise}}}var r=this;this.$get=["embedlyService","noEmbedService","$q",e],this.specialHandlers=[],this.registerHandler=function(e){r.specialHandlers.push(e)}}angular.module("angular-embed.services").provider("embedService",e)}(),function(){"use strict";function e(e){return{embed:function(r){var t=e("https://noembed.com/embed?callback=JSON_CALLBACK&url="+r,{},{get:{method:"JSONP"}});return t.get().$promise},providers:function(){var r=e("https://noembed.com/providers",{},{query:{method:"JSONP",isArray:!0,params:{callback:"JSON_CALLBACK"}}});return r.query().$promise}}}angular.module("noEmbed").service("noEmbedService",["$resource",e])}();